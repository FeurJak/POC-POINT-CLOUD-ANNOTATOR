<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="description" content="Point Cloud Annotator - 3D Annotation Tool">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Point Cloud Annotator</title>

    <!-- Potree Styles -->
    <link rel="stylesheet" type="text/css" href="/potree/src/viewer/potree.css">
    <link rel="stylesheet" type="text/css" href="/potree/libs/jquery-ui/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css" href="/potree/libs/openlayers3/ol.css">
    <link rel="stylesheet" type="text/css" href="/potree/libs/spectrum/spectrum.css">
    <link rel="stylesheet" type="text/css" href="/potree/libs/jstree/themes/mixed/style.css">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" type="text/css" href="/css/annotator.css">
</head>

<body>
    <!-- Potree Libraries -->
    <script src="/potree/libs/jquery/jquery-3.1.1.min.js"></script>
    <script src="/potree/libs/spectrum/spectrum.js"></script>
    <script src="/potree/libs/jquery-ui/jquery-ui.min.js"></script>
    <script src="/potree/libs/other/BinaryHeap.js"></script>
    <script src="/potree/libs/tween/tween.min.js"></script>
    <script src="/potree/libs/d3/d3.js"></script>
    <script src="/potree/libs/proj4/proj4.js"></script>
    <script src="/potree/libs/openlayers3/ol.js"></script>
    <script src="/potree/libs/i18next/i18next.js"></script>
    <script src="/potree/libs/jstree/jstree.js"></script>
    <script src="/potree/build/potree/potree.js"></script>
    <script src="/potree/libs/plasio/js/laslaz.js"></script>

    <!-- Main Container -->
    <div class="potree_container" style="position: absolute; width: 100%; height: 100%; left: 0px; top: 0px;">
        <div id="potree_render_area" style="background-image: url('/potree/resources/images/background.jpg');"></div>
        <div id="potree_sidebar_container"></div>
    </div>

    <!-- Annotation Dialog -->
    <div id="annotation-dialog" class="annotation-dialog hidden">
        <div class="annotation-dialog-content">
            <h3 id="dialog-title">Create Annotation</h3>
            <div class="form-group">
                <label for="annotation-title">Title (required)</label>
                <input type="text" id="annotation-title" maxlength="256" placeholder="Enter annotation title...">
            </div>
            <div class="form-group">
                <label for="annotation-description">Description</label>
                <textarea id="annotation-description" maxlength="256" rows="3" placeholder="Enter description (optional)..."></textarea>
            </div>
            <div class="dialog-buttons">
                <button id="dialog-cancel" class="btn btn-secondary">Cancel</button>
                <button id="dialog-save" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>

    <!-- Toolbar -->
    <div id="annotation-toolbar" class="annotation-toolbar">
        <button id="btn-add-annotation" class="toolbar-btn" title="Add Annotation (Click on point cloud)">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
            </svg>
            <span>Add</span>
        </button>
        <button id="btn-refresh" class="toolbar-btn" title="Refresh Annotations">
            <svg viewBox="0 0 24 24" width="24" height="24">
                <path fill="currentColor" d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
            </svg>
            <span>Refresh</span>
        </button>
    </div>

    <!-- Status Bar -->
    <div id="status-bar" class="status-bar">
        <span id="status-message">Ready</span>
        <span id="annotation-count">Annotations: 0</span>
    </div>

    <!-- Main Application Script -->
    <script type="module" src="/js/annotator.js"></script>
</body>
</html>
